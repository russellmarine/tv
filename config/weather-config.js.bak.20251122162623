// Weather config for RussellTV (NO API KEY IN FRONTEND)

// Map TIME_ZONES.label -> city query for the backend proxy
// (city[,state],[country])
window.WEATHER_QUERIES = {
  "6th Comm - Brooklyn, NY":     "Brooklyn,NY,US",
  "Camp Lejeune, NC":            "Jacksonville,NC,US",
  "Camp Pendleton, CA":          "Oceanside,CA,US",   // Pendleton via Oceanside
  "Camp Smith, HI":              "Honolulu,HI,US",
  "Camp Foster, JP":             "Okinawa,JP",
  "MARFORRES - New Orleans, LA": "New Orleans,LA,US",
  "Manama, BH":                  "Manama,BH",
  "Stuttgart, DE":               "Stuttgart,DE",
  "Naples, IT":                  "Naples,IT",
  "Darwin, AU":                  "Darwin,AU"
};

// Helper: fetch weather via secure local proxy
window.fetchWeather = async function(query) {
  try {
    const r = await fetch(`/weather?q=${encodeURIComponent(query)}`);
    if (!r.ok) {
      console.error("Weather proxy HTTP error:", r.status);
      return null;
    }
    return await r.json();
  } catch (err) {
    console.error("Weather fetch failed", err);
    return null;
  }
};
